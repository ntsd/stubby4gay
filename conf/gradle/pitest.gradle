apply plugin: "info.solidsoft.pitest"

configurations { mutableCodeBase { transitive false } }
dependencies { mutableCodeBase project(':main') }

pitest {
   reportDir = project(":main").reporting.baseDir.path + "/pitest/html"
   mainSourceSets = [project(':main').sourceSets.main]
   additionalMutableCodePaths = [configurations.mutableCodeBase.singleFile]
   targetClasses = ['io.github.ntsd.stubby4gay.*']
   excludedClasses = ['io.github.ntsd.stubby4gay.Main',
                      'io.github.ntsd.stubby4gay.handlers.strategy.admin.*',
                      'io.github.ntsd.stubby4gay.server.*',
                      'io.github.ntsd.stubby4gay.filesystem.*',
                      'io.github.ntsd.stubby4gay.http.*',
                      'io.github.ntsd.stubby4gay.utils.ConsoleUtils']
   threads = 2
   outputFormats = ['HTML']
   failWhenNoMutations = false
   timestampedReports = false
   verbose = false
   mutators = [
      'INCREMENTS',
      'CONDITIONALS_BOUNDARY',
      'RETURN_VALS',
      'VOID_METHOD_CALLS',
      'NON_VOID_METHOD_CALLS',
      'INVERT_NEGS',
      'MATH',
      'NEGATE_CONDITIONALS']
}